<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" lang="ko">
  <!-- 모바일 스케일 고정 -->
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta discription="튜토리얼을 제공합니다.">
  <meta keywords="iseohyun, 튜토리얼, 변수">
  <meta author="iseohyun">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-453XSP5W9M"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-453XSP5W9M');
  </script>

  <!-- 페이지 타이틀 -->
  <title>이벤트: javascript - iseohyun </title>
  <link rel="shortcut icon" type="image/x-icon" href="/source/icon_seohyun.svg">

  <!-- 소스코드 스타일 -->
  <link rel="stylesheet" href="/highlight/styles/base16/darkmoss.min.css" />
  <script src="/highlight/highlight.min.js"></script>
  <script src="/highlight/highlightjs-line-numbers.js"></script>
  <script>
    hljs.highlightAll();
    hljs.initLineNumbersOnLoad();
  </script>

  <!-- 목차 생성 -->
  <script src="/modules/hd_list.js" defer></script>

  <!-- 공통스킨 -->
  <style type="text/css">
    @import url("/style.css");
  </style>
</head>

<body>
  <article>
    <div id="title">Event</div>

    <h1>Event</h1>
    <h2>Event의 종류</h2>
    <span class="tutorial">D_Event >> a#_~.html</span>
    <table class="last-td-left">
      <caption>이벤트 종류</caption>
      <thead>
        <tr>
          <th class="tutorial">NO</th>
          <th>분류</th>
          <th>이벤트 명</th>
          <th>설명</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td rowspan="8" class="tutorial">1</td>
          <td rowspan="8">마우스</td>
          <td>click</td>
          <td>클릭 되었을 때</td>
        </tr>
        <tr>
          <td>dbclick</td>
          <td>더블 클릭 되었을 때</td>
        </tr>
        <tr>
          <td>mouseover</td>
          <td>마우스가 객체 영역 위로 들어올 때</td>
        </tr>
        <tr>
          <td>mouseout</td>
          <td>마우스가 객체 영역 밖으로 나갈 때</td>
        </tr>
        <tr>
          <td>mousedown</td>
          <td>마우스 버튼을 클릭하는 순간</td>
        </tr>
        <tr>
          <td>mouseup</td>
          <td>마우스 클릭했던 버튼을 올리는 순간</td>
        </tr>
        <tr>
          <td>mousemove</td>
          <td>마우스가 객체위를 이동할 때마다</td>
        </tr>
        <tr>
          <td>contextmenu</td>
          <td>좌클릭메뉴가 나타나는 순간</td>
        </tr>
        <tr>
          <td rowspan="3" class="tutorial">2</td>
          <td rowspan="3">키보드</td>
          <td>keydown</td>
          <td><del>키보드가 눌리는 순간: 언어에 따라 트리거로 발생하기도</del><br>
            키보드가 눌려있는 순간=keypress</td>
        </tr>
        <tr>
          <td>keyup</td>
          <td>눌렸던 키보드가 떨어지는 순간</td>
        </tr>
        <tr>
          <td>keypress</td>
          <td>키가 눌려있는 동안</td>
        </tr>
        <tr>
          <td rowspan="6" class="tutorial">3</td>
          <td rowspan="6">객체</td>
          <td>focus</td>
          <td>선택되었을 때</td>
        </tr>
        <tr>
          <td>blur</td>
          <td>선택된 것이 해제되었을 때</td>
        </tr>
        <tr>
          <td>change</td>
          <td>값이 변경되었을 때</td>
        </tr>
        <tr>
          <td>submit</td>
          <td>submit이벤트(서버로 전송)를 발생시켰을 때(초기화 및 새로고침)</td>
        </tr>
        <tr>
          <td>reset</td>
          <td>reset이벤트(폼에 있는 데이터 초기화)를 발생시켰을 때</td>
        </tr>
        <tr>
          <td>select</td>
          <td>내용을 드레그 등으로 선택했을 때</td>
        </tr>
        <tr>
          <td rowspan="5" class="tutorial">4</td>
          <td rowspan="5">window</td>
          <td>load</td>
          <td>페이지을 처음 읽을 때</td>
        </tr>
        <tr>
          <td><del>unload</del></td>
          <td><del>페이지를 빠져나갈 때</del>삭제될 예정</td>
        </tr>
        <tr>
          <td>abort</td>
          <td>이미지나 비디오 등의 로딩 중단(찾을 수 없음, 코드 에러 X)</td>
        </tr>
        <tr>
          <td>resize</td>
          <td>페이지의 크기를 변경 할 때</td>
        </tr>
        <tr>
          <td>scroll</td>
          <td>스크롤 할 때(페이지 내리기 등)</td>
        </tr>
    </table>

    <h2>로딩 이벤트</h2>
    <p>&nbsp;페이지 요소를 불러오는 코드의 경우, 잘 동작하는 코드임에도 불구하고, 로딩되는 순서로 인해 대상이 아직 생성되지 않으면서 에러가 날 수 있습니다. 이를 방지하기 위해 페이지 로딩 완료 이벤트
      이후에 수행하도록 할 수 있습니다.</p>

    <blockquote>
      <pre>
document.addEventListener('DOMContentLoaded', () => {
  ...
});</pre>
    </blockquote>
    <p>&nbsp;다른 방법으로는 script선언시에 async, defer, module등을 이용하여로 구분할 수 있습니다.
      아래 그림에서 <span style="background-color: #bcffba;">parser</span>, <span
        style="background-color: #bec5ff;">fetch</span>, <span style="background-color: #ffc7c7;">excution</span>은 모두
      컴퓨터의 리소스를 차지하는 행위입니다. 사용자는 어쨌든 완전한 문서를 보기 위해서 끝까지 기다려야 합니다.<br>
      &nbsp;<span style="background-color: #bcffba;">parser</span>와 <span
        style="background-color: #ffc7c7;">excution</span>는 절대 동시에 수행될 수 없지만, 예비동작인 <span
        style="background-color: #bec5ff;">fetch</span>는 비동기식으로 동작 할 수 있습니다.<br>
      &nbsp;- defer옵션은 준비는 비동기식으로 하되, 수행은 HTML의 해석이 끝난 후에 시작하라고 지정 합니다.<br>
      &nbsp;- async옵션은 준비가 끝나는대로 수행을 할 것을 요청합니다.(성능 개선을 목적으로)<br>
      &nbsp;- module은 여러 script간에 순차적(동기식)으로 진행을 하되 결과는 HTML이 준비 된 후에 수행합니다.<br>
      &nbsp;- module을 async로 수행할 수 있습니다.

    </p>
    <img src="https://html.spec.whatwg.org/images/asyncdefer.svg" id="affix-async-defer"> <a
      href="https://html.spec.whatwg.org/images/asyncdefer.svg">HTML명세</a>@whatwg.org (CC BY 4.0)

    <h2>등록 및 사용</h2>
    <span class="tutorial">D_Event >> b_addremove.html</span>
    <table class="all-td-left">
      <caption>이벤트 등록과 말소</caption>
      <thead>
        <tr>
          <th>함수명</th>
          <th>역할</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>addEventListener(이벤트명, 수행 함수)</td>
          <td>이벤트 등록</td>
        </tr>
        <tr>
          <td>removeEventListener(이벤트명, 삭제 함수)</td>
          <td>이벤트 말소</td>
        </tr>
        <tr>
          <td>dispatchEvent(이벤트 객체)</td>
          <td>이벤트 발생</td>
        </tr>
      </tbody>
    </table>

    <h2>이벤트 전달</h2>
    <p>&nbsp;아래 예에서 5를 클릭하면 5 → 4 → 3 → 2 → 1의 클릭 이벤트를 순서대로 모두 수행합니다.</p>
    <style>
      #evnet-propatation {
        width: 300px;
      }

      #evnet-propatation div {
        border: 1px solid;
        padding: 1em;
      }
    </style>
    <div id="evnet-propatation">
      1
      <div>
        2
        <div>
          3
          <div>
            4
            <div>
              5
            </div>
          </div>
        </div>
      </div>
    </div>
    <span class="tutorial">D_Event >> b2_eventBubble.html</span>
    <p>&nbsp;이벤트의 전달을 중지하기 위해서 다음과 같은 함수를 사용합니다.</p>

    <table class="all-td-left">
      <caption>이벤트 중지 함수</caption>
      <thead>
        <tr>
          <th>함수명</th>
          <th>동작</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>preventDefault</td>
          <td>기본 동작을 중지합니다.</td>
        </tr>
        <tr>
          <td>stopPropagation</td>
          <td>전달을 중지합니다.</td>
        </tr>
    </table>
    <h1>좌표</h1>

    <p>&nbsp;x좌표는 좌에서 우(→), y좌표는 상에서 하(↓)로 증가합니다. 모든 객체가 0, 0에 위치하지 않음으로, 객체는 이벤트의 위치가 절대적인 위치(문서기준)과 상대적인 위치(본인기준)을
      갖습니다. <br></p>

    <table class="all-td-left">
      <caption>이벤트 위치 정보</caption>
      <thead>
        <tr>
          <th>속성 명</th>
          <th>설명</th>
          <th>계산</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>OBJ.offsetLeft, OBJ.offsetTop</td>
          <td>본인의 위치</td>
          <td></td>
        </tr>
        <tr>
          <td>e.pageX, e.pageY</td>
          <td>이벤트 위치(문서 기준)</td>
          <td></td>
        </tr>
        <tr>
          <td>e.offsetX, e.offsetY</td>
          <td>이벤트 위치(본인 기준)</td>
          <td>= 이벤트 위치(문서기준) - 본인의 위치</td>
        </tr>
        <tr>
          <td>window.pageXOffset, window.pageYOffset</td>
          <td>현재 스크롤 위치</td>
          <td></td>
        </tr>
        <tr>
          <td>e.clientX, e.clientY<br>e.x, e.y</td>
          <td>이벤트 위치(브라우저 기준)</td>
          <td>= 이벤트 위치(문서 기준) - 스크롤</td>
        </tr>
        <tr>
          <td>e.screenX, e.screenY</td>
          <td>이벤트 위치(모니터 기준)</td>
          <td>* 멀티모니터의 경우, 기준모니터의 좌상단</td>
        </tr>
    </table>
    <span class="tutorial">D_Event >> c_xy.html</span>
    <div id="event-js-onmouseover"
      style="width:90%;height:300px;border:1px solid #ddd;box-shadow: #8888 5px 5px 5px;padding:50px;margin:20px auto;border-radius: 15px;">
      Div위치 = <br> pageXY =<br>계산 후 =
    </div>
    <script>
      var div_mouse_over = document.getElementById('event-js-onmouseover');
      div_mouse_over.addEventListener("mousemove", function (e) {
        div_mouse_over.innerHTML = "Div위치  = " + div_mouse_over.offsetLeft + ", " + div_mouse_over.offsetTop + "<br>";
        div_mouse_over.innerHTML += "pageXY   = " + e.pageX + ", " + e.pageY + "<br>";
        div_mouse_over.innerHTML += "계산 후  = " + (e.pageX - div_mouse_over.offsetLeft) + ", " + (e.pageY - div_mouse_over.offsetTop) + "<br>";
      });
    </script>

    <h1>타이머</h1>
    <p>&nbsp;타이머는 미리 설정해 둔 시간 이후에 이벤트(함수)가 호출되도록 할 수 있습니다.</p>
    <table class="last-td-left">
      <caption>타이머 함수</caption>
      <thead>
        <tr>
          <th>수행</th>
          <th>함수명</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>설정</td>
          <td>헨들러 = setInterval(수행함수, ms밀리초); // 매 주기마다<br>
            헨들러 = setTimeout(수행함수, ms밀리초); // 1회용
          </td>
        </tr>
        <tr>
          <td>해제</td>
          <td>clearInterval(헨들러);<br>
            clearTimeout(헨들러);</td>
        </tr>
    </table>
    <span class="tutorial">D_Event >> d_timer.html</span>
  </article>
</body>

</html>