<!DOCTYPE html>
<html>
<head>
    <title>대시보드</title>
    <meta charset="UTF-8" lang="ko">
</head>
<body>
    <h1>로그인 정보 확인</h1>
    <div id="output"></div>
    <button onclick="logout()">로그아웃</button>

    <script>
        function onSignIn(googleUser) {
            var profile = googleUser.getBasicProfile();
            var userId = profile.getId();
            sessionStorage.setItem('user_id', userId);
            window.location.href = 'login.html';
        }

        // 세션 스토리지에서 사용자 ID 가져오기
        var userId = sessionStorage.getItem('user_id');

        // 사용자 ID가 있다면 출력, 없다면 로그인 페이지로 이동
        if (userId) {
            document.getElementById('output').textContent = '사용자 ID: ' + userId;
        } else {
            document.getElementById('output').textContent = '사용자 ID: ' + userId;
            //window.location.href = 'login.html';
        }

        // 로그아웃 처리 함수
        function logout() {
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
                sessionStorage.removeItem('user_id');
                window.location.href = 'login.html';
            });
        }
    </script>
</body>
</html>
